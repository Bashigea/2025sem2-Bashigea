git status
usethis::create_from_github(
" https://github.com/AugsburgDST490/hennepin-county-data-project-2026-tai"
)
usethis::create_from_github(
" https://github.com/AugsburgDST490/hennepin-county-data-project-2026-tai"
)
cls
setwd("~/DST490/2025sem2-Bashigea")
setwd("~/DST490")
setwd("~/DST490/2025sem2-Bashigea")
usethis::create_from_github(
"https://github.com/your-username/your-repo-name.git",
destdir = "~/Documents/projects/your-project-folder"
)
usethis::create_from_github(
"https://github.com/AugsburgDST490/hennepin-county-data-project-2026-tai.git",
destdir = "~/DST490"
)
#| echo: false
#| message: false
library(tidyverse)
# Load in datasets you will need when rendering the file.
# Unemployment and education data from the USDA. See day07_README.md for data sources
# Name of the uemployment file
unemployment_file <- "Unemployment.xlsx"
unemployment <- readxl::read_excel(unemployment_file,
skip = 4,
sheet = 'UnemploymentMedianIncome')
# Name of the file to read in:
education_file <- "Education.xlsx"
education <- readxl::read_excel(education_file ,
skip = 3,
sheet = 'Education 1970 to 2022')
#| echo: false
#| message: false
library(tidyverse)
# Load in datasets you will need when rendering the file.
# Unemployment and education data from the USDA. See day07_README.md for data sources
# Name of the uemployment file
unemployment_file <- "Unemployment.xlsx"
unemployment <- readxl::read_excel(unemployment_file,
skip = 4,
sheet = 'UnemploymentMedianIncome')
# Name of the file to read in:
education_file <- "Education.xlsx"
education <- readxl::read_excel(education_file ,
skip = 3,
sheet = 'Education 1970 to 2022')
View(unemployment)
# Filter out the national and state-level summary rows first
# Then create a nested list organized by State
nested_unemployment <- unemployment |>
filter(!is.na(Rural_Urban_Continuum_Code_2013) ) |>  # removes summary rows
group_by(State) |>
nest()
# Use map_dbl to compute the average unemployment for each state
unemployment_span <- nested_unemployment |>
mutate(unemployment_pct_2008_2012 = map_dbl(.x = data,
.f = ~compute_unemployment(.x, 2018:2022))) |>
select(-data)  # Get rid of the data column
# Define the compute_unemployment function first
compute_unemployment <- function(input_data, year_span) {
avg_val <- input_data |>
select(starts_with("Unemployment_rate")) |>
pivot_longer(cols = everything()) |>
separate_wider_position(name, c(name = 18, Year = 4)) |>
mutate(Year = as.numeric(Year)) |>
filter(Year %in% year_span) |>
summarize(avg_unemploy = mean(value, na.rm = TRUE)) |>
pull(avg_unemploy)
return(avg_val)
}
# Filter out the national and state-level summary rows first
# Then create a nested list organized by State
nested_unemployment <- unemployment |>
filter(!is.na(Rural_Urban_Continuum_Code_2013)) |>  # removes summary rows
group_by(State) |>
nest()
# Use map_dbl to compute the average unemployment for each state
unemployment_span <- nested_unemployment |>
mutate(unemployment_pct_2008_2012 = map_dbl(.x = data,
.f = ~compute_unemployment(.x, 2018:2022))) |>
select(-data)  # Get rid of the data column
glimpse(unemployment_span)
# First create the joined_dataset
education_small <- education |>
select(`FIPS Code`, State, ends_with("2008-12")) |>
select(`FIPS Code`, State, starts_with("Percent"))
joined_dataset <- unemployment_span |>
inner_join(education_small, by = c("FIPS_Code" = "FIPS Code"))
# Define the compute_unemployment function first
compute_unemployment <- function(input_data, year_span) {
avg_val <- input_data |>
select(starts_with("Unemployment_rate")) |>
pivot_longer(cols = everything()) |>
separate_wider_position(name, c(name = 18, Year = 4)) |>
mutate(Year = as.numeric(Year)) |>
filter(Year %in% year_span) |>
summarize(avg_unemploy = mean(value, na.rm = TRUE)) |>
pull(avg_unemploy)
return(avg_val)
}
# Filter out the national and state-level summary rows first
# Then create a nested list organized by State
nested_unemployment <- unemployment |>
filter(!is.na(Rural_Urban_Continuum_Code_2013)) |>
group_by(State) |>
nest()
# Using map_dbl to compute the average unemployment for each state
unemployment_span <- nested_unemployment |>
mutate(unemployment_pct_2008_2012 = map_dbl(.x = data,
.f = ~compute_unemployment(.x, 2018:2022))) |>
select(-data)  # Get rid of the data column
glimpse(unemployment_span)
# Define the compute_unemployment function first
compute_unemployment <- function(input_data, year_span) {
avg_val <- input_data |>
select(starts_with("Unemployment_rate")) |>
pivot_longer(cols = everything()) |>
separate_wider_position(name, c(name = 18, Year = 4)) |>
mutate(Year = as.numeric(Year)) |>
filter(Year %in% year_span) |>
summarize(avg_unemploy = mean(value, na.rm = TRUE)) |>
pull(avg_unemploy)
return(avg_val)
}
# Filter out the national and state-level summary rows first
# Then create a nested list organized by State
nested_unemployment <- unemployment |>
filter(!is.na(Rural_Urban_Continuum_Code_2013)) |>
group_by(State) |>
nest()
# Using map_dbl to compute the average unemployment for each state
unemployment_span <- nested_unemployment |>
mutate(unemployment_pct_2008_2012 = map_dbl(.x = data,
.f = ~compute_unemployment(.x, 2018:2022))) |>
select(-data)
glimpse(unemployment_span)
# First create the joined_dataset like the professor did in class
education_small <- education |>
select(`FIPS Code`, State, ends_with("2008-12")) |>
select(`FIPS Code`, State, starts_with("Percent"))
joined_dataset <- unemployment_span |>
inner_join(education_small, by = "State")
# Recreate the exact plot
joined_dataset |>
pivot_longer(cols = starts_with("Percent"),
names_to = "Educational_factor",
values_to = "Educational_factor_value") |>
ggplot(aes(x = Educational_factor_value,
y = unemployment_pct_2008_2012)) +
geom_point() +
geom_smooth(method = 'lm') +
facet_wrap(~ Educational_factor) +
labs(x = "Educational factor",
y = "Average Unemployment Rate (%, 2018-2022)")
# First create the joined_dataset like the professor did in class
education_small <- education |>
select(`FIPS Code`, State, ends_with("2008-12")) |>
select(`FIPS Code`, State, starts_with("Percent"))
joined_dataset <- unemployment_span |>
inner_join(education_small, by = "State")
joined_dataset |>
pivot_longer(cols = starts_with("Percent"),
names_to = "Educational_factor",
values_to = "Educational_factor_value") |>
ggplot(aes(x = Educational_factor_value,
y = unemployment_pct_2008_2012)) +
geom_point() +
geom_smooth(method = 'lm') +
facet_wrap(~ Educational_factor) +
labs(x = "Educational factor",
y = "Average Unemployment Rate (%, 2018-2022)")
#| eval: false
#| message: false
state_plot <- function(state_name) {
joined_dataset |>
filter(State == state_name) |>
ggplot(aes(x = `Percent of adults with less than a high school diploma, 2008-12`,
y = unemployment_pct_2008_2012)) +
geom_point() +
geom_smooth(method = 'lm') +
labs(title = state_name,
x = "Percent of adults with less than a high school diploma, 2008-12",
y = "Average Unemployment Rate (%, 2018-2022)")
}
state_plot(state_name = "MN")
#| message: false
# Go back to FIPS_Code level like the professor did in class
nested_unemployment <- unemployment |>
filter(!is.na(Rural_Urban_Continuum_Code_2013)) |>
group_by(FIPS_Code) |>
nest()
unemployment_span <- nested_unemployment |>
mutate(unemployment_pct_2008_2012 = map_dbl(.x = data,
.f = ~compute_unemployment(.x, 2018:2022))) |>
select(-data)
joined_dataset <- unemployment_span |>
inner_join(education_small, by = c("FIPS_Code" = "FIPS Code"))
state_plot(state_name = "MN")
#| message: false
state_plot_violin <- function(state_name) {
joined_dataset |>
filter(State == state_name) |>
pivot_longer(cols = starts_with("Percent"),
names_to = "Educational_factor",
values_to = "Educational_factor_value") |>
ggplot(aes(x = Educational_factor,
y = unemployment_pct_2008_2012)) +
geom_violin(fill = "lightblue") +
labs(title = state_name,
x = "Educational Factor",
y = "Average Unemployment Rate (%, 2018-2022)") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
}
state_plot_violin(state_name = "MN")
#| echo: false
#| message: false
library(tidyverse)
# Load in datasets you will need when rendering the file.
# Unemployment and education data from the USDA. See day07_README.md for data sources
# Name of the uemployment file
unemployment_file <- "Unemployment.xlsx"
unemployment <- readxl::read_excel(unemployment_file,
skip = 4,
sheet = 'UnemploymentMedianIncome')
# Name of the file to read in:
education_file <- "Education.xlsx"
education <- readxl::read_excel(education_file ,
skip = 3,
sheet = 'Education 1970 to 2022')
# Define the compute_unemployment function first
compute_unemployment <- function(input_data, year_span) {
avg_val <- input_data |>
select(starts_with("Unemployment_rate")) |>
pivot_longer(cols = everything()) |>
separate_wider_position(name, c(name = 18, Year = 4)) |>
mutate(Year = as.numeric(Year)) |>
filter(Year %in% year_span) |>
summarize(avg_unemploy = mean(value, na.rm = TRUE)) |>
pull(avg_unemploy)
return(avg_val)
}
# Filter out the national and state-level summary rows first
# Then create a nested list organized by State
nested_unemployment <- unemployment |>
filter(!is.na(Rural_Urban_Continuum_Code_2013)) |>
group_by(State) |>
nest()
# Using map_dbl to compute the average unemployment for each state
unemployment_span <- nested_unemployment |>
mutate(unemployment_pct_2008_2012 = map_dbl(.x = data,
.f = ~compute_unemployment(.x, 2018:2022))) |>
select(-data)
glimpse(unemployment_span)
# First create the joined_dataset like the professor did in class
education_small <- education |>
select(`FIPS Code`, State, ends_with("2008-12")) |>
select(`FIPS Code`, State, starts_with("Percent"))
joined_dataset <- unemployment_span |>
inner_join(education_small, by = "State")
joined_dataset |>
pivot_longer(cols = starts_with("Percent"),
names_to = "Educational_factor",
values_to = "Educational_factor_value") |>
ggplot(aes(x = Educational_factor_value,
y = unemployment_pct_2008_2012)) +
geom_point() +
geom_smooth(method = 'lm') +
facet_wrap(~ Educational_factor) +
labs(x = "Educational factor",
y = "Average Unemployment Rate (%, 2018-2022)")
#| eval: false
#| message: false
state_plot <- function(state_name) {
joined_dataset |>
filter(State == state_name) |>
ggplot(aes(x = `Percent of adults with less than a high school diploma, 2008-12`,
y = unemployment_pct_2008_2012)) +
geom_point() +
geom_smooth(method = 'lm') +
labs(title = state_name,
x = "Percent of adults with less than a high school diploma, 2008-12",
y = "Average Unemployment Rate (%, 2018-2022)")
}
state_plot(state_name = "MN")
#| message: false
nested_unemployment <- unemployment |>
filter(!is.na(Rural_Urban_Continuum_Code_2013)) |>
group_by(FIPS_Code) |>
nest()
unemployment_span <- nested_unemployment |>
mutate(unemployment_pct_2008_2012 = map_dbl(.x = data,
.f = ~compute_unemployment(.x, 2018:2022))) |>
select(-data)
joined_dataset <- unemployment_span |>
inner_join(education_small, by = c("FIPS_Code" = "FIPS Code"))
state_plot(state_name = "MN")
